# å¿«é€Ÿé–‹å§‹ï¼šä½¿ç”¨ clasp + Chrome DevTools é€²è¡Œ GAS é–‹ç™¼

## âœ… ç’°å¢ƒå·²è¨­å®šå®Œæˆ

æ‚¨çš„é–‹ç™¼ç’°å¢ƒå·²ç¶“æº–å‚™å°±ç·’ï¼š

- âœ… clasp å·²å®‰è£ä¸¦é€£çµå°ˆæ¡ˆ
- âœ… é–‹ç™¼æ¸¬è©¦å·¥å…·å·²å»ºç«‹ (`devTools.js`)
- âœ… æ¸¬è©¦åŸ·è¡Œå™¨å·²å»ºç«‹ (`testRunner.js`)
- âœ… NPM æŒ‡ä»¤è…³æœ¬å·²è¨­å®š (`package.json`)
- âœ… ç¨‹å¼ç¢¼å·²æ¨é€è‡³ GAS

## ğŸš€ ç«‹å³é–‹å§‹

### 1ï¸âƒ£ åŸ·è¡Œå¿«é€Ÿæ¸¬è©¦

åœ¨ Apps Script ç·¨è¼¯å™¨ä¸­åŸ·è¡Œï¼š

```javascript
quickTest()
```

é€™æœƒé©—è­‰ï¼š
- å·¥ä½œè¡¨é€£ç·šæ˜¯å¦æ­£å¸¸
- Exam ç‰©ä»¶æ˜¯å¦èƒ½æ­£ç¢ºå»ºç«‹
- çµ±è¨ˆåŠŸèƒ½æ˜¯å¦é‹ä½œ

**å¦‚ä½•åŸ·è¡Œï¼š**

```bash
# é–‹å•Ÿ Apps Script ç·¨è¼¯å™¨
npm run open

# æˆ–ç›´æ¥é–‹å•Ÿè©¦ç®—è¡¨ > æ“´å……åŠŸèƒ½ > Apps Script
```

åœ¨ç·¨è¼¯å™¨ä¸­ï¼š
1. é¸æ“‡å‡½å¼ä¸‹æ‹‰é¸å–® â†’ `quickTest`
2. é»æ“Š â–¶ï¸ åŸ·è¡Œ
3. æŸ¥çœ‹æ—¥èªŒï¼ˆæª¢è¦– > åŸ·è¡Œç´€éŒ„ï¼‰

### 2ï¸âƒ£ åŸ·è¡Œå®Œæ•´æ¸¬è©¦å¥—ä»¶

```javascript
runAllTests()
```

é€™æœƒåŸ·è¡Œï¼š
- é ˜åŸŸæ¨¡å‹æ¸¬è©¦ï¼ˆ7 é …æ¸¬è©¦ï¼‰
- ExamService æ¸¬è©¦ï¼ˆ2 é …æ¸¬è©¦ï¼‰
- æ’ç¨‹é‚è¼¯æ¸¬è©¦ï¼ˆ2 é …æ¸¬è©¦ï¼‰

### 3ï¸âƒ£ éƒ¨ç½² Web App é€²è¡Œè¦–è¦ºåŒ–æ¸¬è©¦

1. åœ¨ Apps Script ç·¨è¼¯å™¨ï¼š
   - é»æ“Šå³ä¸Šè§’ã€Œéƒ¨ç½²ã€â†’ã€Œæ–°å¢éƒ¨ç½²ä½œæ¥­ã€
   - é¡å‹ï¼šé¸æ“‡ã€Œç¶²é æ‡‰ç”¨ç¨‹å¼ã€
   - åŸ·è¡Œèº«åˆ†ï¼šé¸æ“‡ã€Œæˆ‘ã€
   - å­˜å–æ¬Šï¼šé¸æ“‡ã€Œæ‰€æœ‰äººã€
   - é»æ“Šã€Œéƒ¨ç½²ã€

2. è¤‡è£½ Web App URL

3. åœ¨ç€è¦½å™¨é–‹å•Ÿè©² URLï¼Œæ‚¨æœƒçœ‹åˆ°ï¼š
   - ğŸ“Š å³æ™‚çµ±è¨ˆè³‡è¨Šå¡ç‰‡
   - ğŸ”„ é‡æ–°è¼‰å…¥è³‡æ–™æŒ‰éˆ•
   - ğŸ’¾ ä¸‹è¼‰ JSON å¿«ç…§åŠŸèƒ½
   - ğŸ“‹ å®Œæ•´è³‡æ–™æª¢è¦–

### 4ï¸âƒ£ ä½¿ç”¨ Chrome DevTools é™¤éŒ¯

é–‹å•Ÿ Web App å¾Œï¼š

1. æŒ‰ `F12` é–‹å•Ÿ Chrome DevTools
2. åœ¨ Console ä¸­å¯ä»¥ï¼š
   ```javascript
   // æŸ¥çœ‹ç•¶å‰è³‡æ–™
   currentData
   
   // é‡æ–°è¼‰å…¥
   loadData()
   
   // ä¸‹è¼‰å¿«ç…§
   downloadJSON()
   ```

3. ä½¿ç”¨ Network æ¨™ç±¤ï¼š
   - ç›£æ§ API è«‹æ±‚
   - æª¢æŸ¥å›æ‡‰è³‡æ–™

4. ä½¿ç”¨ Performance æ¨™ç±¤ï¼š
   - åˆ†æè¼‰å…¥æ•ˆèƒ½
   - æ‰¾å‡ºç“¶é ¸

## ğŸ“ æ—¥å¸¸é–‹ç™¼æµç¨‹

### æ–¹æ³• Aï¼šå‚³çµ±æµç¨‹ï¼ˆæ¨è–¦æ–°æ‰‹ï¼‰

```bash
# 1. åœ¨ VS Code ç·¨è¼¯æª”æ¡ˆ
code domainModels.js

# 2. æ¨é€è‡³ GAS
npm run push

# 3. é–‹å•Ÿ GAS ç·¨è¼¯å™¨æ¸¬è©¦
npm run open

# 4. åŸ·è¡Œå‡½å¼ä¸¦æŸ¥çœ‹æ—¥èªŒ
```

### æ–¹æ³• Bï¼šç›£è¦–æ¨¡å¼ï¼ˆé©åˆå¿«é€Ÿè¿­ä»£ï¼‰

```bash
# 1. å•Ÿå‹•ç›£è¦–æ¨¡å¼
npm run watch

# 2. é–‹å•Ÿ Web Appï¼ˆåœ¨ç€è¦½å™¨ï¼‰

# 3. åœ¨ VS Code ç·¨è¼¯ä¸¦å„²å­˜
# â†’ è‡ªå‹•æ¨é€è‡³ GAS

# 4. åœ¨ Web App é»æ“Šã€Œé‡æ–°è¼‰å…¥ã€
# â†’ ç«‹å³çœ‹åˆ°è®Šæ›´
```

### æ–¹æ³• Cï¼šæ¸¬è©¦é©…å‹•é–‹ç™¼

```bash
# 1. åœ¨ testRunner.js æ–°å¢æ¸¬è©¦
.test('æ–°åŠŸèƒ½æ¸¬è©¦', () => {
  // æ¸¬è©¦ç¨‹å¼ç¢¼
  assert.equals(actual, expected);
})

# 2. æ¨é€ä¸¦åŸ·è¡Œæ¸¬è©¦ï¼ˆé æœŸå¤±æ•—ï¼‰
npm run push
# åœ¨ GAS åŸ·è¡Œ runAllTests()

# 3. å¯¦ä½œåŠŸèƒ½

# 4. æ¨é€ä¸¦åŸ·è¡Œæ¸¬è©¦ï¼ˆç¢ºèªé€šéï¼‰
npm run push
```

## ğŸ› ï¸ å¸¸ç”¨é™¤éŒ¯æŠ€å·§

### 1. æª¢è¦– Exam ç‰©ä»¶ç‹€æ…‹

```javascript
debugExamObject()
```

### 2. å»ºç«‹è³‡æ–™å¿«ç…§

```javascript
var snapshot = createDataSnapshot();
Logger.log(JSON.stringify(snapshot, null, 2));
```

### 3. æ¸¬é‡æ•ˆèƒ½

```javascript
measurePerformance('assignSessionTimesForExam');
// è¼¸å‡ºï¼šassignSessionTimesForExam åŸ·è¡Œæ™‚é–“: 234ms
```

### 4. æ¯”è¼ƒå‰å¾Œå·®ç•°

```javascript
var before = createDataSnapshot();
// åŸ·è¡ŒæŸå€‹æ“ä½œ
assignSessionTimesForExam();
var after = createDataSnapshot();
var diff = compareExamSnapshots(before, after);
Logger.log(JSON.stringify(diff, null, 2));
```

### 5. æ¸…é™¤æ¸¬è©¦è³‡æ–™

```javascript
clearSchedulingData();  // æ¸…é™¤æ’ç¨‹è³‡æ–™
createTestData();       // å»ºç«‹ç¯„ä¾‹è³‡æ–™
```

## ğŸ“Š ä½¿ç”¨ Chrome DevTools MCPï¼ˆé€²éšï¼‰

ç•¶æ‚¨åœ¨ç€è¦½å™¨é–‹å•Ÿ Web App æ™‚ï¼ŒVS Code çš„ MCP ä¼ºæœå™¨å¯ä»¥ï¼š

1. **è‡ªå‹•åŒ–æ¸¬è©¦**ï¼š
   - é€é MCP æŒ‡ä»¤æ§åˆ¶ç€è¦½å™¨
   - æ¨¡æ“¬ä½¿ç”¨è€…äº’å‹•
   - æ“·å–é é¢å¿«ç…§

2. **æ•ˆèƒ½åˆ†æ**ï¼š
   - å•Ÿå‹•æ•ˆèƒ½è¿½è¹¤
   - æ”¶é›† Core Web Vitals
   - ç”Ÿæˆæ•ˆèƒ½å ±å‘Š

3. **ç¶²è·¯ç›£æ§**ï¼š
   - åˆ—å‡ºæ‰€æœ‰ç¶²è·¯è«‹æ±‚
   - æª¢æŸ¥å›æ‡‰å…§å®¹
   - æ¨¡æ“¬ç¶²è·¯ç¯€æµ

ï¼ˆè©³ç´°ç”¨æ³•è«‹åƒè€ƒ DEVELOPMENT.mdï¼‰

## ğŸ¯ ä¸‹ä¸€æ­¥

### å­¸ç¿’è³‡æº
- é–±è®€ [DEVELOPMENT.md](./DEVELOPMENT.md) - å®Œæ•´é–‹ç™¼æŒ‡å—
- é–±è®€ [AGENTS.md](./AGENTS.md) - å°ˆæ¡ˆçµæ§‹èˆ‡è¦ç¯„
- é–±è®€ [REFACTORING_PLAN.md](./REFACTORING_PLAN.md) - é‡æ§‹è¨ˆç•«

### å¯¦æˆ°ç·´ç¿’
1. å˜—è©¦ä¿®æ”¹ `devTools.js` æ–°å¢é™¤éŒ¯åŠŸèƒ½
2. åœ¨ `testRunner.js` æ–°å¢æ¸¬è©¦æ¡ˆä¾‹
3. ä½¿ç”¨ Web App è¦–è¦ºåŒ–æª¢è¦–è³‡æ–™
4. ä½¿ç”¨ Chrome DevTools åˆ†ææ•ˆèƒ½

### å•é¡Œæ’é™¤
- æ¨é€å¤±æ•—ï¼Ÿæª¢æŸ¥ `.clasp.json` è¨­å®š
- æ¸¬è©¦å¤±æ•—ï¼ŸæŸ¥çœ‹ `npm run logs`
- Web App ç„¡åæ‡‰ï¼Ÿé‡æ–°éƒ¨ç½²æ–°ç‰ˆæœ¬
- èªæ³•éŒ¯èª¤ï¼Ÿä½¿ç”¨ `clasp push` æœƒé¡¯ç¤ºéŒ¯èª¤è¨Šæ¯

## ğŸ’¡ æç¤º

- ä½¿ç”¨ `Logger.log()` è¼¸å‡ºé™¤éŒ¯è¨Šæ¯
- ä½¿ç”¨ `assert.*` å‡½å¼é€²è¡Œæ¸¬è©¦æ–·è¨€
- å–„ç”¨ Web App çš„å³æ™‚æª¢è¦–åŠŸèƒ½
- Chrome DevTools Console æ˜¯ä½ çš„å¥½æœ‹å‹

é–‹å§‹é–‹ç™¼å§ï¼ğŸ‰
